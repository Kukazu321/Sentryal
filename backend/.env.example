# ============================================================================
# SENTRYAL Backend - Environment Variables
# ============================================================================
# Copier ce fichier en .env et remplir les valeurs
# cp .env.example .env
# ============================================================================

# ===================
# Server
# ===================
NODE_ENV=development
PORT=5000

# ===================
# Database (PostgreSQL + PostGIS)
# ===================
# Local development
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/sentryal?schema=public

# Railway (production) - auto-configured
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# ===================
# Redis (for BullMQ queues)
# ===================
# Local development
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Railway (production) - auto-configured
# REDIS_HOST=${{Redis.REDIS_HOST}}
# REDIS_PORT=${{Redis.REDIS_PORT}}
# REDIS_PASSWORD=${{Redis.REDIS_PASSWORD}}

# ===================
# Authentication
# ===================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
NEXTAUTH_SECRET=your-nextauth-secret-change-in-production

# Admin Basic Auth (for /admin/* routes)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme

# ===================
# RunPod Serverless (GPU Processing)
# ===================
# Get from: https://www.runpod.io/console/user/settings
RUNPOD_API_KEY=rpa_XXXXXXXXXXXXXXXXXXXXXXXXXX

# Endpoint ID from: https://www.runpod.io/console/serverless
RUNPOD_ENDPOINT_ID=xxxxxxxxxx

# Optional: webhook signature verification
RUNPOD_WEBHOOK_SECRET=your-webhook-secret

# ===================
# ASF / Earthdata (Sentinel-1 Downloads)
# ===================
# Create account at: https://urs.earthdata.nasa.gov/
EARTHDATA_USERNAME=your_earthdata_username
EARTHDATA_PASSWORD=your_earthdata_password

# Get bearer token from: https://urs.earthdata.nasa.gov/users/<username>/user_tokens
EARTHDATA_BEARER_TOKEN=your_bearer_token

# ===================
# Webhook (for async job results)
# ===================
# Production: your Railway app URL
WEBHOOK_BASE_URL=http://localhost:5000

# ===================
# AWS S3 (Optional - for result storage)
# ===================
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=eu-west-1
# S3_BUCKET=sentryal-results

# ===================
# Feature Flags
# ===================
# Run database migrations on startup
RUN_MIGRATIONS=true

# Enable debug routes (disable in production!)
ENABLE_DEBUG_ROUTES=false

# Use RunPod Serverless instead of local ISCE3
USE_RUNPOD_SERVERLESS=true
