# GMTSAR Configuration for Sentryal
# This file contains environment variables and settings for GMTSAR integration

# GMTSAR Installation Path
GMTSAR_HOME=/usr/local/GMTSAR

# GMTSAR Working Directory (where jobs are processed)
GMTSAR_WORK_DIR=/tmp/gmtsar_processing

# GMT Home (usually detected automatically)
# GMT_LIBRARY_PATH=/usr/local/gmt/lib

# Processing Configuration
# Maximum concurrent GMTSAR jobs
MAX_PARALLEL_JOBS=5

# Job timeout (seconds)
GMTSAR_JOB_TIMEOUT=3600

# Memory configuration for large datasets
GMTSAR_MEMORY_RATIO=0.75

# DEM Cache Settings
DEM_CACHE_DIR=/tmp/gmtsar_dem_cache
DEM_CACHE_AGE_DAYS=30
DEM_RESOLUTION=30  # meters (SRTM 30m default)

# Orbit File Settings
ORBIT_CACHE_DIR=/tmp/gmtsar_orbit_cache
PREFER_PRECISE_ORBITS=true  # Use precise (POEORB) over restituted (RESORB)

# Sentinel-1 Processing
# Processing level: SLC (Single Look Complex) - required for TOPS processing
S1_PROCESSING_LEVEL=SLC

# TOPS data processing
USE_TOPS_PROCESSING=true

# Unwrapping Configuration
# Coherence threshold for SNAPHU unwrapping (0-1)
SNAPHU_COHERENCE_THRESHOLD=0.1

# Enable unwrapping (true/false)
ENABLE_UNWRAPPING=true

# Phase filtering
FILTER_WAVELENGTH=200  # wavelengths
RANGE_DECIMATION=2
AZIMUTH_DECIMATION=1

# Geocoding
ENABLE_GEOCODING=true
GEOCODE_RESOLUTION=30  # output resolution in meters

# Output Configuration
# Keep raw GMTSAR outputs for debugging
KEEP_INTERMEDIATE_FILES=false

# Compression for archived results
COMPRESS_OUTPUTS=true

# Logging
LOG_LEVEL=INFO
GMTSAR_LOG_DIR=/tmp/gmtsar_logs

# Database Configuration (for storing processing results)
DEFORMATION_DECIMATION=1  # Store every Nth point (1 = all points)
MIN_COHERENCE_THRESHOLD=0.3  # Minimum coherence to store deformation

# Performance Tuning
# Number of patches for large interferograms
NUM_PATCHES=1

# Region cut (pixels from edge to remove)
REGION_CUT=20

# Maximum interferogram size before splitting
MAX_INTF_SIZE=10000

# API Keys (if using online services)
# ESA Copernicus Hub credentials
# COPERNICUS_USERNAME=
# COPERNICUS_PASSWORD=

# NASA Earthdata credentials (for ancillary data)
# EARTHDATA_USERNAME=
# EARTHDATA_PASSWORD=

# Notification Settings
# Send alerts on job completion
SEND_NOTIFICATIONS=false
NOTIFICATION_EMAIL=

# Monitoring & Metrics
COLLECT_METRICS=true
METRICS_EXPORT_INTERVAL=60  # seconds

# Development/Testing
DEBUG_MODE=false
MOCK_GMTSAR=false  # Simulate GMTSAR without running actual commands
DRY_RUN=false  # Prepare but don't execute
